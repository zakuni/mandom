<head>
  <title>mandom</title>
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <style type="text/css">
    #timer {
      font-size: 15em;
      font-family: 'Lato', sans-serif;
    }
  </style>
  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="node_modules/easytimer.js/dist/easytimer.js"></script>
  <script type="text/javascript">
    const timer = new Timer();
    timer.start({countdown: true, startValues: [0,3,0,0,0]});
    timer.addEventListener('secondsUpdated', function (e) {
      document.querySelector('#timer').innerHTML = timer.getTimeValues().toString();
    });
    timer.addEventListener('targetAchieved', function (e) {
      timer.stop();
      timer.start({
        countdown: false,
        startValues: [0,0,0,0,0],
        target: null // target is set to avoid targetAchieved event to be dispatched.
      });
    });

    var socket = io();
    socket.on('time', function(msg){
      timer.stop();
      timer.start({countdown: true, startValues: [0,msg-0,0,0,0]});
    });
    socket.emit('time', '10');
  </script>
</head>
<body>
  <div id='timer'></div>
</body>
